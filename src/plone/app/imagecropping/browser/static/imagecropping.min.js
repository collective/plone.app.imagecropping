!function(){var t,e,n,r,i={191:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});n(666);var r=n(269),i=n.n(r),o=n(472),a=n(867),s={getOptions(t,e,n){n=n||{},0===t.length||i().nodeName(t[0],"body")||(n=this.getOptions(t.parent(),e,n));let r={};if(0!==t.length&&(r=t.data("pat-"+e),r&&"string"==typeof r)){const t={};i().each(r.split(";"),(function(e,n){(n=n.split(":")).reverse();let r=n.pop();r=r.replace(/^\s+|\s+$/g,""),n.reverse();let i=n.join(":");i=i.replace(/^\s+|\s+$/g,""),t[r]=i})),r=t}return i().extend(!0,{},n,r)}};const c=a.Z.getLogger("Patternslib Base"),u=function(t,e,n){t.jquery||(t=i()(t));const r=this.prototype.name,c=a.Z.getLogger(`pat.${r}`);let u=t.data(`pattern-${r}`);if(void 0===u&&o.Z.patterns[r])try{e="mockup"===this.prototype.parser?s.getOptions(t,r,e):e,u=new o.Z.patterns[r](t,e,n)}catch(t){c.error(`Failed while initializing ${r} pattern.`,t)}return u},l=async function(t,e,n){t.jquery||(t=i()(t)),this.$el=t,this.el=t[0],this.options=i().extend(!0,{},this.defaults||{},e||{}),await this.init(t,e,n),this.$el.data(`pattern-${this.name}`,this),this.el[`pattern-${this.name}`]=this,this.emit("init")};l.prototype={constructor:l,on(t,e){this.$el.on(`${t}.${this.name}.patterns`,e)},one(t,e){this.$el.one(`${t}.${this.name}.patterns`,e)},emit(t,e){void 0===e&&(e=[]),this.$el.trigger(`${t}.${this.name}.patterns`,e)}},l.extend=function(t){const e=this;let n;if(!t)throw new Error("Pattern configuration properties required when calling Base.extend");n=Object.hasOwnProperty.call(t,"constructor")?t.constructor:function(){e.apply(this,arguments)},n.extend=l.extend,n.init=u,n.jquery_plugin=!0,n.trigger=t.trigger,n.parser=t?.parser||null;var r=function(){this.constructor=n};return r.prototype=e.prototype,n.prototype=new r,i().extend(!0,n.prototype,t),n.__super__=e.prototype,t.name?t.trigger?o.Z.register(n,t.name):c.warn(`The pattern ${t.name} does not have a trigger attribute, it will not be registered.`):c.warn("This pattern without a name attribute will not be registered!"),n};var p=l},867:function(t,e){"use strict";var n,r;Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i});var i={DEBUG:10,INFO:20,WARN:30,ERROR:40,FATAL:50};function o(){}function a(t,e){this._loggers={},this.name=t||"",this._parent=e||null,e||(this._enabled=!0,this._level=i.WARN)}function s(t){r=t}o.prototype={output:function(t,e,n){t&&n.unshift(t+":"),e<=i.DEBUG?(n.unshift("[DEBUG]"),console.log.apply(console,n)):e<=i.INFO?console.info.apply(console,n):e<=i.WARN?console.warn.apply(console,n):console.error.apply(console,n)}},a.prototype={getLogger:function(t){for(var e=t.split("."),n=this,r=this.name?[this.name]:[];e.length;){var i=e.shift();r.push(i),i in n._loggers||(n._loggers[i]=new a(r.join("."),n)),n=n._loggers[i]}return n},_getFlag:function(t){var e=this;for(t="_"+t;null!==e;){if(void 0!==e[t])return e[t];e=e._parent}return null},setEnabled:function(t){this._enabled=!!t},isEnabled:function(){this._getFlag("enabled")},setLevel:function(t){"number"==typeof t?this._level=t:"string"==typeof t&&(t=t.toUpperCase())in i&&(this._level=i[t])},getLevel:function(){return this._getFlag("level")},log:function(t,e){!e.length||!this._getFlag("enabled")||t<this._getFlag("level")||(e=Array.prototype.slice.call(e),r.output(this.name,t,e))},debug:function(){this.log(i.DEBUG,arguments)},info:function(){this.log(i.INFO,arguments)},warn:function(){this.log(i.WARN,arguments)},error:function(){this.log(i.ERROR,arguments)},fatal:function(){this.log(i.FATAL,arguments)}},s(new o),n=new a;for(var c,u=/loglevel(|-[^=]+)=([^&]+)/g;null!==(c=u.exec(window.location.search));){(""===c[1]?n:n.getLogger(c[1].slice(1))).setLevel(c[2].toUpperCase())}var l={Level:i,getLogger:n.getLogger.bind(n),setEnabled:n.setEnabled.bind(n),isEnabled:n.isEnabled.bind(n),setLevel:n.setLevel.bind(n),getLevel:n.getLevel.bind(n),debug:n.debug.bind(n),info:n.info.bind(n),warn:n.warn.bind(n),error:n.error.bind(n),fatal:n.fatal.bind(n),getWriter:function(){return r},setWriter:s};e.Z=l},472:function(t,e,n){"use strict";n.d(e,{Z:function(){return L}});var r=n(269),i=n.n(r);const o={},a=(t,e)=>{if(!t?.removeEventListener)return;const n=o[t];if(!n)return;let r;if(e){const t=n[e];r=t?[t]:[]}else r=Object.entries(n);for(const e of r||[])t.removeEventListener(e[0],e[1],e[2])};var s={add_event_listener:(t,e,n,r,i={})=>{t?.addEventListener&&(a(t,n),o[t]||(o[t]={}),o[t][n]=[e,r,i.capture?i:void 0],t.addEventListener(e,r,i))},remove_event_listener:a,await_event:(t,e)=>new Promise((n=>t.addEventListener(e,n,{once:!0}))),await_pattern_init:t=>new Promise((e=>t.one("init",e))),click_event:()=>new Event("click",{bubbles:!0,cancelable:!0}),change_event:()=>new Event("change",{bubbles:!0,cancelable:!1}),input_event:()=>new Event("input",{bubbles:!0,cancelable:!1}),mousedown_event:()=>new Event("mousedown",{bubbles:!0,cancelable:!0}),mouseup_event:()=>new Event("mouseup",{bubbles:!0,cancelable:!0}),scroll_event:()=>new Event("scroll",{bubbles:!0,cancelable:!1}),submit_event:()=>new Event("submit",{bubbles:!0,cancelable:!0})};const c="__patternslib__data_prefix__",u="__patternslib__style__display";function l(t,e,n=!1,r=!1){let i=window.getComputedStyle(t).getPropertyValue(e);return(n||r)&&(i=parseFloat(i)||0),n&&!r&&(i=parseInt(Math.round(i),10)),i}var p={toNodeArray:t=>(t.jquery||t instanceof NodeList?t=[...t]:t instanceof Array==!1&&(t=[t]),t),querySelectorAllAndMe:(t,e)=>{if(!t)return[];const n=[...t.querySelectorAll(e)];return t.matches(e)&&n.unshift(t),n},wrap:(t,e)=>{t.parentNode.insertBefore(e,t),e.appendChild(t)},hide:t=>{"none"!==t.style.display&&(t.style.display&&(t[u]=t.style.display),t.style.display="none",t.setAttribute("hidden",""))},show:t=>{const e=t[u]||null;t.style.display=e,delete t[u],t.removeAttribute("hidden","")},find_parents:(t,e)=>{const n=[];let r=t?.parentNode?.closest?.(e);for(;r;)n.push(r),r=r.parentNode?.closest?.(e);return n},find_scoped:(t,e)=>(0===e.indexOf("#")?document:t).querySelectorAll(e),get_parents:t=>{const e=[];let n=t?.parentNode;for(;n;)e.push(n),n=n?.parentNode,n=n instanceof HTMLElement?n:null;return e},acquire_attribute:(t,e,n=!1,r=!1)=>{let i=t;const o=[];for(;i;){const t=i.getAttribute(e);if(t||n&&""===t){if(!r)return t;o.push(t)}i=i.parentElement}if(r)return o},is_visible:t=>t.offsetWidth>0&&t.offsetHeight>0,create_from_string:t=>document.createRange().createContextualFragment(t.trim()),get_css_value:l,find_scroll_container:(t,e,n=document.body)=>{for(;t&&t!==document.body;){if(!e||"y"===e){let e=l(t,"overflow-y");if(["auto","scroll"].includes(e))return t}if(!e||"x"===e){let e=l(t,"overflow-x");if(["auto","scroll"].includes(e))return t}t=t.parentElement}return n},get_data:(t,e,n)=>t[`${c}${e}`]||n,set_data:(t,e,n)=>{t[`${c}${e}`]=n},template:(t,e={})=>new Function("return `"+t+"`;").call(e),add_event_listener:s.add_event_listener,remove_event_listener:s.remove_event_listener},h=n(867);i().fn.safeClone=function(){var t=this.clone();return window.document.documentMode&&t.findInclusive(":input[placeholder]").each((function(t,e){var n=i()(e);n.attr("placeholder")===n.val()&&n.val("")})),t},Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,r;if(null===this)throw new TypeError(" this is null or not defined");var i=Object(this),o=i.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e),r=0;r<o;){var a;r in i&&(a=i[r],t.call(n,a,r,i)),r++}});var d=function(t,e,n){return this.each((function(){var r,o=i()(this);if(r=t.init(o,n),e){if(void 0===r[e])return i().error("Method "+e+" does not exist on jQuery."+t.name),!1;if("_"===e.charAt(0))return i().error("Method "+e+" is private on jQuery."+t.name),!1;r[e].apply(r,[n])}})),this},f=function(t,e,n){var r=this;if(e){if(t[e])return t[e].apply(r,[r].concat([n]));i().error("Method "+e+" does not exist on jQuery."+t.name)}else t.init.apply(r,[r].concat([n]));return r};function g(t){var e=typeof t;return"function"===e||"object"===e&&!!t}var v={jqueryPlugin:function(t){return function(e,n){return 0===this.length?this:("object"==typeof e&&(n=e,e=void 0),"function"==typeof t?d.call(this,t,e,n):f.call(this,t,e,n))}},escapeRegExp:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isObject:g,extend:function(t){if(!g(t))return t;for(var e,n,r=1,i=arguments.length;r<i;r++)for(n in e=arguments[r])hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},rebaseURL:function(t,e){return t=new URL(t,window.location).href,-1!==e.indexOf("://")||"/"===e[0]||0===e.indexOf("data:")?e:t.slice(0,t.lastIndexOf("/")+1)+e},findLabel:function(t){for(var e,n=t.parentNode;n&&11!==n.nodeType;n=n.parentNode)if("LABEL"===n.tagName)return n;return t.id&&(e=i()('label[for="'+t.id+'"]')),e&&0===e.length&&t.form&&(e=i()('label[for="'+t.name+'"]',t.form)),e&&e.length?e[0]:null},elementInViewport:function(t){var e=t.getBoundingClientRect(),n=document.documentElement,r=window.innerWidth||n.clientWidth,i=window.innerHeight||n.clientHeight;return!(e.right<0||e.bottom<0||e.left>r||e.top>i)},removeWildcardClass:function(t,e){if(t=v.ensureArray(t),-1===e.indexOf("*"))for(const n of t)n.classList.remove(e);else{let n=e.replace(/[\-\[\]{}()+?.,\\\^$|#\s]/g,"\\$&");n=n.replace(/[*]/g,".*"),n=new RegExp("^"+n+"$");for(const e of t){const t=(e.getAttribute("class")||"").split(/\s+/);if(!t.length)continue;const r=t.filter((t=>!n.test(t)));r.length?e.setAttribute("class",r.join(" ")):e.removeAttribute("class")}}},hideOrShow:(t,e,n,r)=>{t=p.toNodeArray(t);const o={none:{hide:"hide",show:"show"},fade:{hide:"fadeOut",show:"fadeIn"},slide:{hide:"slideUp",show:"slideDown"}},a="css"===n.transition||"none"===n.transition?null:n.effect.duration,s=t=>{t.classList.remove("in-progress"),t.classList.add(e?"visible":"hidden"),i()(t).trigger("pat-update",{pattern:r,transition:"complete"})};for(const c of t)if(c.classList.remove("visible"),c.classList.remove("hidden"),c.classList.remove("in-progress"),a){const t=o[n.transition];c.classList.add("in-progress"),i()(c).trigger("pat-update",{pattern:r,transition:"start"}),i()(c)[e?t.show:t.hide]({duration:a,easing:n.effect.easing,complete:()=>s(c)})}else"css"!==n.transition&&p[e?"show":"hide"](c),s(c)},addURLQueryParameter:function(t,e,n){var r=new RegExp("(\\?|\\&)"+e+"=.*?(?=(&|$))"),i=t.toString().split("#"),o=i[0],a=i[1],s=o;return s=r.test(o)?o.replace(r,"$1"+e+"="+n):/\?.+$/.test(o)?o+"&"+e+"="+n:o+"?"+e+"="+n,a&&(s+="#"+a),s},removeDuplicateObjects:function(t){const e=function(t,e){return this[t]===e};return t.reduce((function(t,n){let r=!1;for(const i of t)r=Object.keys(i).length===Object.keys(n).length&&0===Object.entries(i).filter((t=>!e.bind(n)(t[0],t[1]))).length;return r||t.push(n),t}),[])},mergeStack:function(t,e){const n=[];for(let t=0;t<e;t++)n.push({});for(const r of t){const t=r.length-1;for(let o=0;o<e;o++)n[o]=i().extend(n[o]||{},r[o>t?t:o])}return n},isElementInViewport:function(t,e=!1,n=0){t instanceof i()&&(t=t[0]);const r=t.getBoundingClientRect();return![r.top,r.bottom,r.left,r.right].every((t=>0===t))&&(e?r.top<=0+n&&r.bottom>=0+n:r.top>=0&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&r.right<=(window.innerWidth||document.documentElement.clientWidth))},hasValue:function(t){return"INPUT"===t.tagName?"checkbox"===t.type||"radio"===t.type?t.checked:""!==t.value:"SELECT"===t.tagName?-1!==t.selectedIndex:"TEXTAREA"===t.tagName&&""!==t.value},parseTime:function(t){var e=/^(\d+(?:\.\d+)?)\s*(\w*)/.exec(t);if(!e)throw new Error("Invalid time");var n=parseFloat(e[1]);switch(e[2]){case"s":return Math.round(1e3*n);case"m":return Math.round(1e3*n*60);default:return Math.round(n)}},findRelatives:function(t){var e=i()(t),n=i()(t),r=i()();if(n=(n=n.add(e.closest("label"))).add(e.closest("fieldset")),t.id&&(r=i()("label[for='"+t.id+"']")),!r.length){var o=e.closest("form");o.length||(o=i()(document.body)),r=o.find("label[for='"+t.name+"']")}return n=n.add(r)},get_bounds:function(t){const e=t.getBoundingClientRect();return{x:parseInt(Math.round(e.x),10)||0,y:parseInt(Math.round(e.y),10)||0,top:parseInt(Math.round(e.top),10)||0,bottom:parseInt(Math.round(e.bottom),10)||0,left:parseInt(Math.round(e.left),10)||0,right:parseInt(Math.round(e.right),10)||0,width:parseInt(Math.round(e.width),10)||0,height:parseInt(Math.round(e.height),10)||0}},checkInputSupport:function(t,e){let n=!1;const r=document.createElement("input");return r.setAttribute("type",t),n=r.type==t,void 0!==e&&(r.setAttribute("value",e),n=r.value!==e),n},checkCSSFeature:(t,e,n="div")=>{let r=void 0!==(n=document.createElement(n)).style[t];return r&&void 0!==e&&(n.style[t]=e,r=n.style[t]===e),r},animation_frame:()=>new Promise(window.requestAnimationFrame),timeout:t=>new Promise((e=>setTimeout(e,t))),debounce:(t,e,n={timer:null})=>function(){clearTimeout(n.timer);const r=arguments;n.timer=setTimeout((()=>t.apply(this,r)),e)},isIE:()=>!!document.documentMode,jqToNode:t=>(t.jquery&&(t=t[0]),t),ensureArray:(t,e)=>!!(NodeList.prototype.isPrototypeOf(t)||Array.isArray(t)||t.jquery)?e?[...t]:t:[t],localized_isodate:t=>{const e=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0");return`${t.getFullYear().toString()}-${n}-${e}`},escape_html:t=>(t||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),unescape_html:t=>(t||"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'),is_iso_date_time:(t,e=!1)=>(e?/^\d{4}-[01]\d-[0-3]\d(T[0-2]\d:[0-5]\d)?$/:/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d$/).test(t),getCSSValue:p.get_css_value},m=v;const _=h.Z.getLogger("registry"),y=/patterns-disable=([^&]+)/g,b=/patterns-dont-catch/g,w={};let x,E=!1;for(;null!==(x=y.exec(window.location.search));)w[x[1]]=!0,_.info("Pattern disabled via url config:",x[1]);for(;null!==(x=b.exec(window.location.search));)E=!0,_.info("I will not catch init exceptions");void 0===window.__patternslib_registry&&(window.__patternslib_registry={});const $={patterns:window.__patternslib_registry,initialized:!1,init(){i()(document).ready((function(){_.info("loaded: "+Object.keys($.patterns).sort().join(", ")),$.scan(document.body),$.initialized=!0,_.info("finished initial scan.")}))},clear(){for(const t in $.patterns)delete $.patterns[t]},transformPattern(t,e){if(w[t])return void _.debug("Skipping disabled pattern:",t);const n=$.patterns[t],r=n.transform||n.prototype?.transform;if(r)try{r(i()(e))}catch(e){if(E)throw e;_.error("Transform error for pattern"+t,e)}},initPattern(t,e,n){const r=i()(e),o=$.patterns[t];if(o.init){const e=h.Z.getLogger("pat."+t);if(r.is(o.trigger)){e.debug("Initialising:",r);try{o.init(r,null,n),e.debug("done.")}catch(t){if(E)throw t;e.error("Caught error:",t)}}}},orderPatterns:t=>(t.includes("validation")&&t.includes("inject")&&(t.splice(t.indexOf("validation"),1),t.unshift("validation")),t),scan(t,e,n){if(!t)return;"string"==typeof t?t=document.querySelector(t):t.jquery&&(t=t[0]);const r=[];e=this.orderPatterns(e||Object.keys($.patterns));for(const n of e){this.transformPattern(n,t);const e=$.patterns[n];e.trigger&&r.unshift(e.trigger)}let i=p.querySelectorAllAndMe(t,r.map((t=>t.trim().replace(/,$/,""))).join(","));i=i.filter((t=>!(t.matches(".disable-patterns")||t?.parentNode?.closest?.(".disable-patterns")||t?.parentNode?.closest?.("pre")||t?.parentNode?.closest?.("template")||t.matches(".cant-touch-this")||t?.parentNode?.closest?.(".cant-touch-this"))));for(const t of i.reverse())for(const r of e)this.initPattern(r,t,n);document.body.classList.add("patterns-loaded")},register(t,e){if(!(e=e||t.name))return _.error("Pattern lacks a name:",t),!1;if($.patterns[e])return _.info("Already have a pattern called: "+e),!1;if($.patterns[e]=t,t.jquery_plugin){const n=("pat-"+e).replace(/-([a-zA-Z])/g,(function(t,e){return e.toUpperCase()}));i().fn[n]=m.jqueryPlugin(t),i().fn[n.replace(/^pat/,"pattern")]=i().fn[n]}return _.debug("Registered pattern:",e,t),$.initialized&&$.scan(document.body,[e]),!0}};var L=$},443:function(t,e,n){"use strict";var r=n(269),i=n.n(r);window.jQuery=i(),window.$=i()},235:function(t,e,n){"use strict";n(443);var r=n(472),i=n(269),o=n.n(i),a=n(191);function s(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}var c,u;a.Z.extend({name:"image-cropper",trigger:".pat-image-cropper",parser:"mockup",while_reset:!1,while_init:!0,while_saving:!1,_changed:!1,defaults:{identifier:null,fieldname:null,saveurl:null,authenticator:null,scale:null,preview:null,is_cropped:null,view_mode:3,aspect_ratio:16/9,currrent_x:null,currrent_y:null,currrent_w:null,currrent_h:null,true_width:null,true_height:null},update_badges:function(){if(this.while_saving)return this.$badge_saving.show(),this.$button_save.prop("disabled",!0),this.$button_reset.prop("disabled",!0),void this.$button_remove.prop("disabled",!0);this.$badge_saving.hide(),this.options.is_cropped?(this.$button_remove.prop("disabled",!1),this.$badge_uncropped.hide(),this.$badge_cropped.show()):(this.$button_remove.prop("disabled",!0),this.$badge_uncropped.show(),this.$badge_cropped.hide()),this.crop_changed()?(this.$badge_changed.show(),this.$button_save.prop("disabled",!1),this.$button_reset.prop("disabled",!1)):(this.$badge_changed.hide(),this.options.is_cropped?(this.$button_save.prop("disabled",!0),this.$button_reset.prop("disabled",!0)):(this.$button_save.prop("disabled",!1),this.$button_reset.prop("disabled",!0)))},crop_changed:function(){if(this.while_init||this.while_reset)return!1;if(!o()(".cropper-container",this.$image.parent()).is(":visible"))return this._changed;var t=this.$image.cropper("getData"),e=this.original_data.x-1<t.x&&t.x<this.original_data.x+1,n=this.original_data.y-1<t.y&&t.y<this.original_data.y+1,r=this.original_data.width-1<t.width&&t.width<this.original_data.width+1,i=this.original_data.height-1<t.height&&t.height<this.original_data.height+1;return this._changed=!(e&&n&&r&&i),this._changed},reset:function(){console.log("RESET"),this.while_reset=!0,this.cropper.setData(this.original_data),this.visualize_selected_area(),this.while_reset=!1,this.update_badges()},remove:function(){console.log("REMOVE");var t=this,e={remove:!0,fieldname:this.options.fieldname,scale:this.options.scalename,_authenticator:this.options.authenticator};t.while_saving=!0,t.update_badges(),o().ajax({url:this.options.saveurl,type:"POST",data:e,success:function(e,n,r){t.options.is_cropped=!1,t.while_saving=!1,t.update_badges()},error:function(e,n,r){t.while_saving=!1,t.update_badges(),alert(n,r)}})},save:function(){console.log("SAVE "+this.identifier);var t=this,e=this.$image.cropper("getData"),n={x:e.x,y:e.y,width:e.width,height:e.height,fieldname:this.options.fieldname,scale:this.options.scalename,_authenticator:this.options.authenticator};t.while_saving=!0,t.update_badges(),o().ajax({url:this.options.saveurl,type:"POST",data:n,success:function(e,n,r){t.options.is_cropped=!0,t._changed=!1,t.original_data=o().extend({},t.cropper.getData()),t.while_saving=!1,t.update_badges()},error:function(e,n,r){t.while_saving=!1,t.update_badges(),alert(n,r)}})},visualize_selected_area:function(){var t=this.$image.cropper("getData");o()(".cropx",self.$el).text(Math.round(t.x)),o()(".cropy",self.$el).text(Math.round(t.y)),o()(".cropw",self.$el).text(Math.round(t.width)),o()(".croph",self.$el).text(Math.round(t.height))},notify_visible:function(){this.while_reset=!0,this.cropper.resize(),this.options.is_cropped&&!this.crop_changed()&&(console.log("set to orig"),this.cropper.setData(this.original_data),this.visualize_selected_area()),this.while_reset=!1},limit_minimum_cropping_size:function(){var t=this.$image.cropper("getData"),e={};(t.width<this.options.target_width||t.height<this.options.target_height)&&(e.width=this.options.target_width,e.height=this.options.target_height,t.x+this.options.target_width>this.options.true_width?e.x=this.options.true_width-this.options.target_width:e.x=t.x,t.y+this.options.target_height>this.options.true_height?e.y=this.options.true_height-this.options.target_height:e.y=t.y,e.rotate=t.rotate,e.scaleX=t.scaleX,e.scaleY=t.scaleY,this.while_reset=!0,this.cropper.setData(e),this.while_reset=!1)},init:(c=regeneratorRuntime.mark((function t(){var e,r,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(933).then(n.t.bind(n,933,23));case 2:t.sent.default,(e=this).$el.parent().hasClass("d-none"),r="#select-"+e.options.identifier,e.options.identifier,i="#croppingarea-"+e.options.identifier,e.identifier=e.options.identifier,e.$image=o()("img.main-image",e.$el),e.$badge_cropped=o()(r+" .badge.cropped"),e.$badge_uncropped=o()(r+" .badge.uncropped"),e.$badge_changed=o()(r+" .badge.changed"),e.$badge_saving=o()(r+" .badge.saving"),e.$button_save=o()(i+" button.save"),e.$button_remove=o()(i+" button.remove"),e.$button_reset=o()(i+" button.reset"),e.$button_save_all=o()("button.save-all"),e.options.current_x=parseFloat(e.options.current_x),e.options.current_y=parseFloat(e.options.current_y),e.options.current_w=parseFloat(e.options.current_w),e.options.current_h=parseFloat(e.options.current_h),e.options.true_width=parseFloat(e.options.true_width),e.options.true_height=parseFloat(e.options.true_height),e.options.target_width=parseFloat(e.options.target_width),e.options.target_height=parseFloat(e.options.target_height),e.options.is_cropped="True"==e.options.is_cropped,e.original_data={x:this.options.current_x,y:this.options.current_y,width:this.options.current_w,height:this.options.current_h,rotate:0,scaleX:1,scaleY:1},e.update_badges(),e.$button_reset.click((function(){e.reset()})),e.$button_remove.click((function(){e.remove()})),e.$button_save.click((function(){e.save()})),e.$button_save_all.on("click",{identifier:e.identifier},(function(t){e.crop_changed()&&e.save()})),a={preview:e.options.preview,data:e.original_data,autoCrop:!0,autoCropArea:1,aspectRatio:parseFloat(e.options.aspect_ratio),viewMode:e.options.view_mode,restore:!1,crop:function(t){e.while_init||e.while_reset||(e.limit_minimum_cropping_size(),e.update_badges(),e.visualize_selected_area())},built:function(){e.reset(),e.while_init=!1}},e.$image.cropper(a),e.cropper=e.$image.data("cropper"),e.$image.on("CROPPERPATTERN.VISIBLE",(function(){e.notify_visible()}));case 33:case"end":return t.stop()}}),t,this)})),u=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=c.apply(t,e);function o(t){s(i,n,r,o,a,"next",t)}function a(t){s(i,n,r,o,a,"throw",t)}o(void 0)}))},function(){return u.apply(this,arguments)})}),a.Z.extend({name:"imagecropsave",trigger:".pat-imagecrop-scaleselect",parser:"mockup",trigger_notify_visible:function(t){console.log("Trigger event");var e=o().Event("CROPPERPATTERN.VISIBLE");t.trigger(e)},toggle_li:function(t){var e=o()(t),n=o()(e.parent());if(!e.hasClass("active")){o()("li.list-group-item.active",n).removeClass("active").addClass("inactive"),e.removeClass("inactive").addClass("active");var r=o()(o()(e.data("cropping-area"))),i=o()(r.parent());o()(".singlecroppingarea.active",i).removeClass("active").addClass("inactive"),r.removeClass("inactive").addClass("active");var a=o()("img.main-image",r);this.trigger_notify_visible(a)}},set_preview_dimensions:function(t){var e=o()(t),n=o()(".preview-container",e),r=o()(".crop-preview",n),i=parseFloat(n.data("target-width")),a=parseFloat(n.data("target-height")),s=e.width(),c=null;c=s>=i?a:a*s/i,n.width(s),n.height(c),r.width(s),r.height(c)},init:function(){n.e(884).then(n.bind(n,884));var t=this;document.querySelector('a[data-bs-toggle="tab"]').addEventListener("shown.bs.tab",(function(t){var e=o()("div.singlecroppingarea.active img.main-image",$fieldset);this.trigger_notify_visible(e)})),o()(".tab-pane",t.$el).each((function(e){o()("li.list-group-item.scalable",o()(this)).each((function(e){var n=this;t.set_preview_dimensions(n),o()(n).click((function(){t.toggle_li(n)}))}))}))}});r.Z.init()},666:function(t){var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(t,e,n){var r=p;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw o;return S()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=L(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=l(t,e,n);if("normal"===c.type){if(r=n.done?f:h,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=f,n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var p="suspendedStart",h="suspendedYield",d="executing",f="completed",g={};function v(){}function m(){}function _(){}var y={};c(y,o,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(P([])));w&&w!==n&&r.call(w,o)&&(y=w);var x=_.prototype=v.prototype=Object.create(y);function E(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function $(t,e){function n(i,o,a,s){var c=l(t[i],t,o);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(p).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function L(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function P(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:e,done:!0}}return m.prototype=_,c(x,"constructor",_),c(_,"constructor",m),m.displayName=c(_,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,c(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},E($.prototype),c($.prototype,a,(function(){return this})),t.AsyncIterator=$,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new $(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}},o={};function a(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={id:t,exports:{}};return i[t].call(n.exports,n,n.exports,a),n.exports}a.m=i,a.c=o,a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,{a:e}),e},e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);a.r(i);var o={};t=t||[null,e({}),e([]),e(e)];for(var s=2&r&&n;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((function(t){o[t]=function(){return n[t]}}));return o.default=function(){return n},a.d(i,o),i},a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,n){return a.f[n](t,e),e}),[]))},a.u=function(t){return"chunks/"+t+"."+{154:"c057dcd042f4b56fcc3a",269:"a04ad8e18df3004a3add",755:"ea5f0f2cf78f7acc97ab",884:"3cded29cfe475a4e6915",933:"8d12f164dbd9c0fd3de9"}[t]+".min.js"},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n={},r="plone-imagecropping:",a.l=function(t,e,i,o){if(n[t])n[t].push(e);else{var s,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var p=u[l];if(p.getAttribute("src")==t||p.getAttribute("data-webpack")==r+i){s=p;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",r+i),s.src=t),n[t]=[e];var h=function(e,r){s.onerror=s.onload=null,clearTimeout(d);var i=n[t];if(delete n[t],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(t){return t(r)})),e)return e(r)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){a.S={};var t={},e={};a.I=function(n,r){r||(r=[]);var i=e[n];if(i||(i=e[n]={}),!(r.indexOf(i)>=0)){if(r.push(i),t[n])return t[n];a.o(a.S,n)||(a.S[n]={});var o=a.S[n],s="plone-imagecropping",c=function(t,e,n,r){var i=o[t]=o[t]||{},a=i[e];(!a||!a.loaded&&(!r!=!a.eager?r:s>a.from))&&(i[e]={get:n,from:s,eager:!!r})},u=[];if("default"===n)c("cropper","4.1.0",(function(){return Promise.all([a.e(154),a.e(269)]).then((function(){return function(){return a(154)}}))})),c("jquery","3.6.0",(function(){return a.e(755).then((function(){return function(){return a(755)}}))}));return u.length?t[n]=Promise.all(u).then((function(){return t[n]=1})):t[n]=1}}}(),function(){var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t}(),function(){var t=function(t){var e=function(t){return t.split(".").map((function(t){return+t==t?+t:t}))},n=/^([^-+]+)?(?:-([^+]+))?(?:\+(.+))?$/.exec(t),r=n[1]?e(n[1]):[];return n[2]&&(r.length++,r.push.apply(r,e(n[2]))),n[3]&&(r.push([]),r.push.apply(r,e(n[3]))),r},e=function(e,n){e=t(e),n=t(n);for(var r=0;;){if(r>=e.length)return r<n.length&&"u"!=(typeof n[r])[0];var i=e[r],o=(typeof i)[0];if(r>=n.length)return"u"==o;var a=n[r],s=(typeof a)[0];if(o!=s)return"o"==o&&"n"==s||"s"==s||"u"==o;if("o"!=o&&"u"!=o&&i!=a)return i<a;r++}},n=function(t){var e=t[0],r="";if(1===t.length)return"*";if(e+.5){r+=0==e?">=":-1==e?"<":1==e?"^":2==e?"~":e>0?"=":"!=";for(var i=1,o=1;o<t.length;o++)i--,r+="u"==(typeof(s=t[o]))[0]?"-":(i>0?".":"")+(i=2,s);return r}var a=[];for(o=1;o<t.length;o++){var s=t[o];a.push(0===s?"not("+c()+")":1===s?"("+c()+" || "+c()+")":2===s?a.pop()+" "+a.pop():n(s))}return c();function c(){return a.pop().replace(/^\((.+)\)$/,"$1")}},r=function(e,n){if(0 in e){n=t(n);var i=e[0],o=i<0;o&&(i=-i-1);for(var a=0,s=1,c=!0;;s++,a++){var u,l,p=s<e.length?(typeof e[s])[0]:"";if(a>=n.length||"o"==(l=(typeof(u=n[a]))[0]))return!c||("u"==p?s>i&&!o:""==p!=o);if("u"==l){if(!c||"u"!=p)return!1}else if(c)if(p==l)if(s<=i){if(u!=e[s])return!1}else{if(o?u>e[s]:u<e[s])return!1;u!=e[s]&&(c=!1)}else if("s"!=p&&"n"!=p){if(o||s<=i)return!1;c=!1,s--}else{if(s<=i||l<p!=o)return!1;c=!1}else"s"!=p&&"n"!=p&&(c=!1,s--)}}var h=[],d=h.pop.bind(h);for(a=1;a<e.length;a++){var f=e[a];h.push(1==f?d()|d():2==f?d()&d():f?r(f,n):!d())}return!!d()},i=function(t,n){var r=t[n];return Object.keys(r).reduce((function(t,n){return!t||!r[t].loaded&&e(t,n)?n:t}),0)},o=function(t,e,r,i){return"Unsatisfied version "+r+" from "+(r&&t[e][r].from)+" of shared singleton module "+e+" (required "+n(i)+")"},s=function(t,e,n,a){var s=i(t,n);return r(a,s)||"undefined"!=typeof console&&console.warn&&console.warn(o(t,n,s,a)),c(t[n][s])},c=function(t){return t.loaded=1,t.get()},u=function(t){return function(e,n,r,i){var o=a.I(e);return o&&o.then?o.then(t.bind(t,e,a.S[e],n,r,i)):t(e,a.S[e],n,r,i)}},l=u((function(t,e,n,r,i){return e&&a.o(e,n)?s(e,0,n,r):i()})),p={},h={933:function(){return l("default","cropper",[1,4,1,0],(function(){return a.e(154).then((function(){return function(){return a(154)}}))}))},269:function(){return l("default","jquery",[1,3,6,0],(function(){return a.e(755).then((function(){return function(){return a(755)}}))}))}};[269].forEach((function(t){a.m[t]=function(e){p[t]=0,delete a.c[t];var n=h[t]();if("function"!=typeof n)throw new Error("Shared module is not available for eager consumption: "+t);e.exports=n()}}));var d={269:[269],933:[933]};a.f.consumes=function(t,e){a.o(d,t)&&d[t].forEach((function(t){if(a.o(p,t))return e.push(p[t]);var n=function(e){p[t]=0,a.m[t]=function(n){delete a.c[t],n.exports=e()}},r=function(e){delete p[t],a.m[t]=function(n){throw delete a.c[t],e}};try{var i=h[t]();i.then?e.push(p[t]=i.then(n).catch(r)):n(i)}catch(t){r(t)}}))}}(),function(){a.b=document.baseURI||self.location.href;var t={198:0,269:0,235:0,670:0};a.f.j=function(e,n){var r=a.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else if(/^(269|933)$/.test(e))t[e]=0;else{var i=new Promise((function(n,i){r=t[e]=[n,i]}));n.push(r[2]=i);var o=a.p+a.u(e),s=new Error;a.l(o,(function(n){if(a.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+e,e)}};var e=function(e,n){var r,i,o=n[0],s=n[1],c=n[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(c)c(a)}for(e&&e(n);u<o.length;u++)i=o[u],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0},n=self.webpackChunkplone_imagecropping=self.webpackChunkplone_imagecropping||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),a.nc=void 0;a(235)}();
//# sourceMappingURL=imagecropping.min.js.map